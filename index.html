<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>D1</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <link rel="stylesheet" type="text/css" media="screen" href="main.css" /> -->
    <script src="game/utils.js"></script>
    <script src="game/xia_game.js"></script>
    <script src="game/xia_scene.js"></script>
    <script src="game/xia_image.js"></script>

    <script src="scene/main/paddle.js"></script>
    <script src="scene/main/ball.js"></script>
    <script src="scene/main/block.js"></script>
    <script src="scene/main/scene.js"></script>

    <script src="scene/title/scene_title.js"></script>
    <script src="scene/end/scene_end.js"></script>

    <script src="level.js"></script>
    <style>
        #id-canvas{
            border:1px solid black;
        }
    </style>
</head>
<body>
    <canvas id="id-canvas" width="400" height="650"></canvas>
    <input type="range" class="slide" value="30">
    <div>
        <input type="range" value="" max="15" min="1"
            data-value="config.player_speed" 
            class="slide-input"
        >
        玩家速度：<label class="slide-label"></label>
    </div>
    <script src="main.js"></script>
    <script>
        var es = el => document.querySelectorAll(el)

        var bindAll = function(el, event, callback) {
            var l = es(el)
            for (let i = 0; i < l.length; i++) {
                const e = l[i]
                e.addEventListener(event, function(event) {
                    callback(event)
                })
                
            }
        }

        bindAll('.slide-input', 'input', function(event) {
            var target = event.target
            var bindVar = target.dataset.value
            var v = target.value
            eval(bindVar + '=' + v)
            target.closest('div').querySelector('.slide-label').innerText = v
        })
    </script>
</body>
</html>